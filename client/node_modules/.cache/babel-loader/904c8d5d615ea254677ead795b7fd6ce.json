{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { quizService } from \"src/app/services/ServiceInitialization\";\nimport useFunc from \"./UseFunctions\";\n\nconst useHooks = () => {\n  _s();\n\n  const [score, setScore] = useState(0);\n  const [questionIndex, setQuestionIndex] = useState(0);\n  const [answer, setAnswer] = useState(\"\");\n  const [data] = useFunc(quizService.getData()); //  const [data, setData] = useState<Quiz[]>([]);\n  //  const loadData: () => void = async () => {\n  //    const newData: Quiz[] = await quizService.getData();\n  //    setData(newData);\n  //  };\n  //  useEffect(() => {\n  //    loadData();\n  //  }, []);\n  // Function for set Score to 0\n\n  const restart = () => {\n    setScore(0);\n    setAnswer(\"\");\n    setQuestionIndex(0);\n  }; // Function for to send answer. If its right answer - number of points grow\n\n\n  const submit = event => {\n    event.preventDefault();\n\n    if (data) {\n      var _data$questionIndex;\n\n      const isRightAnswer = answer === ((_data$questionIndex = data[questionIndex]) === null || _data$questionIndex === void 0 ? void 0 : _data$questionIndex.rightAnswer);\n\n      if (isRightAnswer) {\n        setScore(score + 1);\n      }\n\n      const isMoreQuestionsAvailable = questionIndex < data.length;\n\n      if (isMoreQuestionsAvailable) {\n        setQuestionIndex(questionIndex + 1);\n      }\n    }\n  };\n\n  const onChange = e => {\n    setAnswer(e.target.value);\n  };\n\n  const methods = {\n    onChange,\n    submit,\n    restart\n  };\n  return [score, questionIndex, answer, data, methods];\n};\n\n_s(useHooks, \"MOyGE1ktbFBoevh5vivyznUAoBo=\", false, function () {\n  return [useFunc];\n});\n\nexport default useHooks;","map":{"version":3,"names":["useState","quizService","useFunc","useHooks","score","setScore","questionIndex","setQuestionIndex","answer","setAnswer","data","getData","restart","submit","event","preventDefault","isRightAnswer","rightAnswer","isMoreQuestionsAvailable","length","onChange","e","target","value","methods"],"sources":["/home/ekaterina/quiz/client/src/app/components/questions/UseHooks.ts"],"sourcesContent":["import React, {useState} from \"react\";\nimport {Quiz} from \"src/app/logic/model/Quiz\";\nimport {quizService} from \"src/app/services/ServiceInitialization\";\nimport useFunc from \"./UseFunctions\";\n\nconst useHooks = (): [any, any, any, Quiz[], any] => {\n\n  const [score, setScore] = useState<number>(0);\n  const [questionIndex, setQuestionIndex] = useState<number>(0);\n  const [answer, setAnswer] = useState<string>(\"\");\n  const [data] = useFunc(quizService.getData());\n  //  const [data, setData] = useState<Quiz[]>([]);\n  //  const loadData: () => void = async () => {\n  //    const newData: Quiz[] = await quizService.getData();\n  //    setData(newData);\n  //  };\n  //  useEffect(() => {\n  //    loadData();\n  //  }, []);\n\n  // Function for set Score to 0\n  const restart: () => void = () => {\n    setScore(0);\n    setAnswer(\"\");\n    setQuestionIndex(0);\n  };\n\n  // Function for to send answer. If its right answer - number of points grow\n  const submit: (event: React.MouseEvent) => void = (\n    event: React.MouseEvent,\n  ) => {\n    event.preventDefault();\n    if (data) {\n      const isRightAnswer: boolean = answer === data[questionIndex]?.rightAnswer;\n      if (isRightAnswer) {\n        setScore(score + 1);\n      }\n\n      const isMoreQuestionsAvailable: boolean = questionIndex < data.length;\n      if (isMoreQuestionsAvailable) {\n        setQuestionIndex(questionIndex + 1);\n      }\n    }\n  };\n\n  const onChange: (e: React.ChangeEvent<HTMLInputElement>) => void = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setAnswer(e.target.value);\n  };\n\n  const methods = {onChange, submit, restart};\n\n  return [score, questionIndex, answer, data, methods];\n};\n\nexport default useHooks;"],"mappings":";;AAAA,SAAeA,QAAf,QAA8B,OAA9B;AAEA,SAAQC,WAAR,QAA0B,wCAA1B;AACA,OAAOC,OAAP,MAAoB,gBAApB;;AAEA,MAAMC,QAAQ,GAAG,MAAoC;EAAA;;EAEnD,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAS,CAAT,CAAlC;EACA,MAAM,CAACM,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAAS,CAAT,CAAlD;EACA,MAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAS,EAAT,CAApC;EACA,MAAM,CAACU,IAAD,IAASR,OAAO,CAACD,WAAW,CAACU,OAAZ,EAAD,CAAtB,CALmD,CAMnD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;;EACA,MAAMC,OAAmB,GAAG,MAAM;IAChCP,QAAQ,CAAC,CAAD,CAAR;IACAI,SAAS,CAAC,EAAD,CAAT;IACAF,gBAAgB,CAAC,CAAD,CAAhB;EACD,CAJD,CAhBmD,CAsBnD;;;EACA,MAAMM,MAAyC,GAC7CC,KADgD,IAE7C;IACHA,KAAK,CAACC,cAAN;;IACA,IAAIL,IAAJ,EAAU;MAAA;;MACR,MAAMM,aAAsB,GAAGR,MAAM,6BAAKE,IAAI,CAACJ,aAAD,CAAT,wDAAK,oBAAqBW,WAA1B,CAArC;;MACA,IAAID,aAAJ,EAAmB;QACjBX,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;MACD;;MAED,MAAMc,wBAAiC,GAAGZ,aAAa,GAAGI,IAAI,CAACS,MAA/D;;MACA,IAAID,wBAAJ,EAA8B;QAC5BX,gBAAgB,CAACD,aAAa,GAAG,CAAjB,CAAhB;MACD;IACF;EACF,CAfD;;EAiBA,MAAMc,QAA0D,GAAIC,CAAD,IAA4C;IAC7GZ,SAAS,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;EACD,CAFD;;EAIA,MAAMC,OAAO,GAAG;IAACJ,QAAD;IAAWP,MAAX;IAAmBD;EAAnB,CAAhB;EAEA,OAAO,CAACR,KAAD,EAAQE,aAAR,EAAuBE,MAAvB,EAA+BE,IAA/B,EAAqCc,OAArC,CAAP;AACD,CA/CD;;GAAMrB,Q;UAKWD,O;;;AA4CjB,eAAeC,QAAf"},"metadata":{},"sourceType":"module"}