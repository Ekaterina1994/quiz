{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { quizService } from \"src/app/services/ServiceInitialization\";\n/**\n * Параметры контекста стора ошибок\n */\n\nconst useFunc = () => {\n  _s();\n\n  const [score, setScore] = useState(0);\n  const [questionIndex, setQuestionIndex] = useState(0);\n  const [answer, setAnswer] = useState(\"\");\n  const [data, setData] = useState([]);\n\n  const loadData = async () => {\n    const newData = await quizService.getData();\n    setData(newData);\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []); // Function for set Score to 0\n\n  const restart = () => {\n    setScore(0);\n    setAnswer(\"\");\n    setQuestionIndex(0);\n  }; // Function for to send answer. If its right answer - number of points grow\n\n\n  const submit = event => {\n    var _data$questionIndex;\n\n    event.preventDefault();\n    const isRightAnswer = answer === ((_data$questionIndex = data[questionIndex]) === null || _data$questionIndex === void 0 ? void 0 : _data$questionIndex.rightAnswer);\n\n    if (isRightAnswer) {\n      setScore(score + 1);\n    }\n\n    const isMoreQuestionsAvailable = questionIndex < data.length;\n\n    if (isMoreQuestionsAvailable) {\n      setQuestionIndex(questionIndex + 1);\n    }\n  };\n\n  const onChange = e => {\n    setAnswer(e.target.value);\n  };\n\n  return [score, setScore, questionIndex, setQuestionIndex, answer, setAnswer];\n};\n\n_s(useFunc, \"rl6fSn2lAC/eMP08aYQITXwBTME=\");\n\nexport default useFunc;","map":{"version":3,"names":["useState","useEffect","quizService","useFunc","score","setScore","questionIndex","setQuestionIndex","answer","setAnswer","data","setData","loadData","newData","getData","restart","submit","event","preventDefault","isRightAnswer","rightAnswer","isMoreQuestionsAvailable","length","onChange","e","target","value"],"sources":["/home/ekaterina/quiz/client/src/app/components/questions/UseFunctions.ts"],"sourcesContent":["import React, {useState, useEffect, Dispatch, SetStateAction} from \"react\";\nimport {Quiz} from \"src/app/logic/model/Quiz\";\nimport {quizService} from \"src/app/services/ServiceInitialization\";\n\n/**\n * Параметры контекста стора ошибок\n */\ninterface IFuncStore {\n\n  /**\n\t * Ошибка приложения\n\t */\n  score: number;\n  questionIndex: number;\n  answer: string;\n  setScore: Dispatch<SetStateAction<number>>;\n  setAnswer: Dispatch<SetStateAction<string>>;\n  setQuestionIndex: Dispatch<SetStateAction<number>>;\n}\n\nconst useFunc = (): IFuncStore => {\n\n  const [score, setScore] = useState<number>(0);\n  const [questionIndex, setQuestionIndex] = useState<number>(0);\n  const [answer, setAnswer] = useState<string>(\"\");\n\n  const [data, setData] = useState<Quiz[]>([]);\n  const loadData: () => void = async () => {\n    const newData: Quiz[] = await quizService.getData();\n    setData(newData);\n  };\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  // Function for set Score to 0\n  const restart: () => void = () => {\n    setScore(0);\n    setAnswer(\"\");\n    setQuestionIndex(0);\n  };\n\n  // Function for to send answer. If its right answer - number of points grow\n  const submit: (event: React.MouseEvent) => void = (\n    event: React.MouseEvent,\n  ) => {\n    event.preventDefault();\n\n    const isRightAnswer: boolean = answer === data[questionIndex]?.rightAnswer;\n    if (isRightAnswer) {\n      setScore(score + 1);\n    }\n\n    const isMoreQuestionsAvailable: boolean = questionIndex < data.length;\n    if (isMoreQuestionsAvailable) {\n      setQuestionIndex(questionIndex + 1);\n    }\n  };\n\n  const onChange: (e: React.ChangeEvent<HTMLInputElement>) => void = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setAnswer(e.target.value);\n  };\n\n  return [score, setScore, questionIndex, setQuestionIndex, answer, setAnswer];\n\n};\n\nexport default useFunc;"],"mappings":";;AAAA,SAAeA,QAAf,EAAyBC,SAAzB,QAAmE,OAAnE;AAEA,SAAQC,WAAR,QAA0B,wCAA1B;AAEA;AACA;AACA;;AAcA,MAAMC,OAAO,GAAG,MAAkB;EAAA;;EAEhC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAS,CAAT,CAAlC;EACA,MAAM,CAACM,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAAS,CAAT,CAAlD;EACA,MAAM,CAACQ,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAS,EAAT,CAApC;EAEA,MAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAS,EAAT,CAAhC;;EACA,MAAMY,QAAoB,GAAG,YAAY;IACvC,MAAMC,OAAe,GAAG,MAAMX,WAAW,CAACY,OAAZ,EAA9B;IACAH,OAAO,CAACE,OAAD,CAAP;EACD,CAHD;;EAIAZ,SAAS,CAAC,MAAM;IACdW,QAAQ;EACT,CAFQ,EAEN,EAFM,CAAT,CAXgC,CAehC;;EACA,MAAMG,OAAmB,GAAG,MAAM;IAChCV,QAAQ,CAAC,CAAD,CAAR;IACAI,SAAS,CAAC,EAAD,CAAT;IACAF,gBAAgB,CAAC,CAAD,CAAhB;EACD,CAJD,CAhBgC,CAsBhC;;;EACA,MAAMS,MAAyC,GAC7CC,KADgD,IAE7C;IAAA;;IACHA,KAAK,CAACC,cAAN;IAEA,MAAMC,aAAsB,GAAGX,MAAM,6BAAKE,IAAI,CAACJ,aAAD,CAAT,wDAAK,oBAAqBc,WAA1B,CAArC;;IACA,IAAID,aAAJ,EAAmB;MACjBd,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;IACD;;IAED,MAAMiB,wBAAiC,GAAGf,aAAa,GAAGI,IAAI,CAACY,MAA/D;;IACA,IAAID,wBAAJ,EAA8B;MAC5Bd,gBAAgB,CAACD,aAAa,GAAG,CAAjB,CAAhB;IACD;EACF,CAdD;;EAgBA,MAAMiB,QAA0D,GAAIC,CAAD,IAA4C;IAC7Gf,SAAS,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;EACD,CAFD;;EAIA,OAAO,CAACtB,KAAD,EAAQC,QAAR,EAAkBC,aAAlB,EAAiCC,gBAAjC,EAAmDC,MAAnD,EAA2DC,SAA3D,CAAP;AAED,CA7CD;;GAAMN,O;;AA+CN,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}